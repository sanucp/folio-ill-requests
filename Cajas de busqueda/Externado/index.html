<!DOCTYPE html>
<html>

<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <title>Caja de busqueda U.Externado</title>
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="http://code.jquery.com/ui/1.11.3/jquery-ui.js"></script>
    <script src="http://support.ebscohost.com/eit/scripts/ebscohostsearch.js" type="text/javascript"></script>
    <script>
        function tabsOpen() {
            var mySelect, x, i;
            x = document.getElementsByClassName("tabs-x");
            for (i = 0; i < x.length; i++) {
                x[i].style.display = "none";
            }
            mySelect = document.getElementById("test").value;
            switch (mySelect) {
                case "1":
                    document.getElementById("tabs-1").style.display = "block";
                    document.getElementById("chkFullText").checked = false;
                    document.getElementById("chkLibraryCollection").checked = true;
                    break;
                case "2":
                    document.getElementById("tabs-1").style.display = "block";
                    document.getElementById("chkFullText").checked = true;
                    document.getElementById("chkLibraryCollection").checked = false;
                    break;
                case "3":
                    document.getElementById("tabs-3").style.display = "block";
                    break;
                case "4":
                    document.getElementById("tabs-4").style.display = "block";
                    break;
                case "5":
                    document.getElementById("tabs-5").style.display = "block";
                    break;
                case "6":
                    document.getElementById("tabs-6").style.display = "block";
                    break;
                case "7":
                    document.getElementById("tabs-7").style.display = "block";
                    break;
            }
        };

        function ebscoHostSearchPortalRevistas(form, buff) {
            var ebscohostsearchtext = chkObject(form.ebscohostsearchtext, '');
            var ebscohostkeywords = chkObject(form.ebscohostkeywords, '');
            var ebscohostsearchsrc = chkObject(form.ebscohostsearchsrc, '');
            var ebscohostsearchmode = chkObject(form.ebscohostsearchmode, '\+AND\+');
            var ebscohostwindow = parseInt(chkObject(form.ebscohostwindow, 0));
            var ebscohosturl = chkObject(form.ebscohosturl, 'http://search.ebscohost.com/login.aspx?');
            var strAlert = "";
            //var selectedIR = selectedRadio();
            var selectedIR = " AND LN ir01187a";
            ebscohostsearchtext = encodeURI(ebscohostsearchtext);

            if (ebscohostsearchtext == "")
                strAlert += "Please enter search term(s).\n";

            if (strAlert !== "") {
                alert(strAlert);
                return false;
            }


            var searchFieldSelector = form["revistas"].value;
            ebscohosturl += '&bquery=' + searchFieldSelector + '+(' + ebscohostkeywords + ebscoHostSearchParse(ebscohostsearchtext, ebscohostsearchmode) + ')' + selectedIR;

            form.ebscohostsearchtext.value = buff;
            if (ebscohostwindow)
                window.open(ebscohosturl, 'EBSCOhost');
            else
                window.location = ebscohosturl;

            return false;
        };

        function ebscoHostSearchEbooks(form) {
            var ebscohostsearchtext = chkObject(form.ebscohostsearchtext, '');
            var ebscohostkeywords = chkObject(form.ebscohostkeywords, '');
            var ebscohostsearchsrc = chkObject(form.ebscohostsearchsrc, '');
            var ebscohostsearchmode = chkObject(form.ebscohostsearchmode, '\+AND\+');
            var ebscohostwindow = parseInt(chkObject(form.ebscohostwindow, 0));
            var ebscohosturl = chkObject(form.ebscohosturl, 'http://search.ebscohost.com/login.aspx?');

            var strAlert = "";

            ebscohostsearchtext = encodeURI(ebscohostsearchtext);

            if (ebscohostsearchtext == "")
                strAlert += "Please enter search term(s).\n";

            if (strAlert !== "") {
                alert(strAlert);
                return false;
            }

            var searchFieldSelector = form["ebook"].value;
            ebscohosturl += '&bquery=' + searchFieldSelector + '+(' + ebscohostkeywords + ebscoHostSearchParse(ebscohostsearchtext, ebscohostsearchmode) + ') AND PT eBook';
            if (ebscohostwindow)
                window.open(ebscohosturl, 'EBSCOhost');
            else
                window.location = ebscohosturl;

            return false;
        }

        function searchRepo() {
            var text1 = document.getElementById("repoSearch").value;
            if (text1 != '') {
                var rev1 = document.getElementById("repselc").value;
                var url = '';
                if (rev1 == "") {
                    url = "https://bdigital.uexternado.edu.co/simple-search?" + "query=" + text1;
                }
                if (rev1 == "TI") {
                    url = "https://bdigital.uexternado.edu.co/browse?type=title&sort_by=1&order=ASC&rpp=20&etal=-1&starts_with=" + text1;
                }
                if (rev1 == "AU") {
                    url = "https://bdigital.uexternado.edu.co/browse?type=author&order=ASC&rpp=20&starts_with=" + text1;
                }
                window.open(url);
            }
        }

        function cambio() {
            if (
                document.getElementById("autor").selected == true
            ) {
                document.getElementById("guidedField_2").checked = true;
            }
            if (
                document.getElementById("titulo").selected == true
            ) {
                document.getElementById("guidedField_1").checked = true;
            }
        }

    </script>
    <style>
        body {
            font-family: Arial, Helvetica, sans-serif;
        }

        #content {
            width: 70%;
            height: 150px;
            background-color: rgba(53, 93, 77, 0.8);
            display: flex;
            align-items: center;
            border-radius: 10px;
            margin: auto;
        }

        button {
            border: none;
            background-color: #8cc63f;
            padding: 10px;
            width: 60px;
            height: 42px;
            border-radius: 0 10px 10px 0;
            background-image: url(search.png);
            background-repeat: no-repeat;
            background-position: center;
            float: left;
            cursor: pointer;
        }

        input[type=text] {
            border: 1px solid #0a8289;
            border-radius: 10px 0 0 10px;
            font-size: large;
            width: 50%;
            padding: 10px;
            float: left;
        }

        option {
            background-color: #8e99a3;
        }

        /*AUTOCOMPLETE STYLES*/

        /*
teal #0A8289

*/

        .ui-state-default,
        .ui-widget-content .ui-state-default,
        .ui-widget-header .ui-state-default {
            background: #0A8289 none repeat scroll 0 0 !important;
        }

        .ui-tabs .ui-tabs-panel {
            background: #FFFFFF none repeat scroll 0 0 !important;
        }

        .ui-widget-header {
            background: none !important;
        }

        .ui-state-active a,
        .ui-state-active a:link,
        .ui-state-active a:visited {
            color: #EED63B !important;
        }

        #auto-results {
            border: 1px black solid;
            font-family: mir-cond, Helvetica, Arial, sans-serif;
            background-color: white;
            margin-top: 45px;
            margin-left: 230px;
            position: absolute;
            padding: 10px;
            z-index: 1000;
            width: 300px;
        }

        #auto-results li:hover {
            background-color: #3875D7;
            color: white;
            font-weight: bold;
            cursor: pointer;
        }

        #auto-results li {
            border: medium none;
            list-style: outside none none;
            padding-left: 5px;
        }

        /*END AUTOCOMPLETE STYLES*/

        .tabs-x {
            float: left;
        }

        #menu {
            float: left;
        }

        #menu select {
            background-color: #355d4d;
            border: none;
            padding: 5px;
            font-size: medium;
            font-weight: bold;
            border-radius: 5px;
            color: #fff;
            width: 200px;
            margin: 10px;
        }

        .selector {
            float: left;
            background-color: #355d4d;
            border: none;
            padding: 5px;
            font-size: medium;
            font-weight: bold;
            border-radius: 5px;
            color: #fff;
            width: 200px;
            margin: 10px;
        }

    </style>
</head>

<body>
    <div id="content">
        <div id="menu">
            <select id="test" onchange="tabsOpen()">
                <option value="1">Todos los recursos</option>
                <option value="2">Bases de datos - Revistas electrónicas</option>
                <option value="3">Colección impresa</option>
                <option value="4">Biblioteca digital - Producción académica</option>
                <option value="5">Revistas Externado</option>
                <option value="6">Libros electrónicos </option>
                <option value="7">eBooks Externado </option>
            </select>
        </div>
        <div id="tabs-1" class="tabs-x">
            <form id="sbEDS" action="" onsubmit="return ebscoHostSearchGo(this);" method="post">
                <input id="ebscohostwindow" name="ebscohostwindow" type="hidden" value="1" />
                <input id="ebscohosturl" name="ebscohosturl" type="hidden" value="http://search.ebscohost.com/login.aspx?direct=true&site=eds-live&scope=site&type=0&custid=s5802306&groupid=main&profid=eds_v2&mode=all&lang=es&authtype=ip,guest" />
                <input id="ebscohostsearchsrc" name="ebscohostsearchsrc" type="hidden" value="db" />
                <input id="ebscohostsearchmode" name="ebscohostsearchmode" type="hidden" value="+" />
                <input id="ebscohostkeywords" name="ebscohostkeywords" type="hidden" value="" />
                <div>
                    <div>
                        <div>
                            <select name="Campos" id="selectores" onchange="cambio()" class="selector">
                                <option value="" id="clave">Palabras Clave</option>
                                <option value="AU" id="autor">Autor</option>
                                <option value="TI" id="titulo">Titulo</option>
                            </select>
                            <div id="guidedFieldSelectors" style="display:none;">
                                <input class="radio" type="radio" name="searchFieldSelector" id="guidedField_0" value="" checked="checked" />
                                <label class="label" for="guidedField_0"> Todos los campos</label>
                                <input class="radio" type="radio" name="searchFieldSelector" id="guidedField_1" value="TI" />
                                <label class="label" for="guidedField_1"> Titulo</label>
                                <input class="radio" type="radio" name="searchFieldSelector" id="guidedField_2" value="AU" />
                                <label class="label" for="guidedField_2"> Autor</label>
                            </div>
                            <input id="ebscohostsearchtext" name="ebscohostsearchtext" type="text" size="50" autocomplete="off" onkeyup="autocomp()" placeholder="Busca en EDS..." />
                            <span id="edsSearchWrapper"></span>
                        </div>
                        <button></button>
                    </div>
                </div>
                <div id="limiterblock" style="display:none;">
                    <div id="limitertitle" style="font-weight:bold;">Limita tus Resultados</div>
                    <div class="limiter">
                        <input type="checkbox" id="chkFullText" name="chkFullText" />
                        <label for="chkFullText">Texto Completo</label>
                        <input type="checkbox" id="chkLibraryCollection" name="chkLibraryCollection" checked="checked" />
                        <label for="chkLibraryCollection">Available in Library Collection</label>
                    </div>
                </div>
            </form>
        </div>
        <div id="tabs-3" class="tabs-x" style="display:none;">
            <form id="sbCatalog" style="overflow:auto;">
                <select name="Campos" id="Campos" class="selector">
                    <option value="" >Palabras Clave</option>
                    <option value="AU" >Autor</option>
                    <option value="TI" >Titulo</option>
                </select>
                <input id="catalogsearch" name="ebscohostsearchtext" type="text" size="50" placeholder="Busca en el catalogo..." />
                <button onclick="searchCatalog()"></button><br/>

            </form>
        </div>
        <script>
            function searchCatalog() {
                var text1 = document.getElementById("catalogsearch").value;
                var res = escape(text1);
                if (res != '') {
                    var rev1 = document.getElementById("Campos").value;
                    var url = '';
                    if (rev1 == "") {
                        url = "http://catalogo.uexternado.edu.co/uhtbin/cgisirsi/x/0/0/5?" + "searchdata1=" + res;
                    }
                    if (rev1 == "TI") {
                        url = "http://catalogo.uexternado.edu.co/uhtbin/cgisirsi/x/0/0/5?" + "searchdata1=" + res + "&srchfield1=TI^TITLE^^Title Processing^title";
                    }
                    if (rev1 == "AU") {
                        url = "http://catalogo.uexternado.edu.co/uhtbin/cgisirsi/x/0/0/5?" + "searchdata1=" + res + "&srchfield1=AU^AUTHOR^^Author Processing^author";
                    }
                    window.open(url);
                }
            }

        </script>
        <div id="tabs-4" class="tabs-x" style="display:none;">
            <form id="sbPeriodici">
                <select name="Campos" id="repselc" class="selector">
                    <option value="" >Palabras Clave</option>
                    <option value="AU" >Autor</option>
                    <option value="TI" >Titulo</option>
                </select>
                <input id="repoSearch" class="busqueda" name="ebscohostsearchtext" type="text" size="50" />
                <button onclick="searchRepo()"></button>
            </form>
        </div>
        <div id="tabs-5" class="tabs-x" style="display:none;">
            <form id="sbPeriodici" action="" onsubmit="var buff=this.ebscohostsearchtext.value; return ebscoHostSearchPortalRevistas(this, buff);" method="post">
                <input id="ebscohostwindow" name="ebscohostwindow" type="hidden" value="1" />
                <input id="ebscohosturl" name="ebscohosturl" type="hidden" value="http://search.ebscohost.com/login.aspx?direct=true&site=eds-live&scope=site&type=0&custid=s5802306&groupid=main&profid=eds_v2&mode=bool&lang=es&authtype=guest,ip,cookie&cli0=PC1&clv0=Y" />
                <input id="ebscohostsearchsrc" name="ebscohostsearchsrc" type="hidden" value="db" />
                <input id="ebscohostsearchmode" name="ebscohostsearchmode" type="hidden" value="+" />
                <select name="revistas" id="revistas" class="selector">
                    <option value="" >Palabras Clave</option>
                    <option value="AU" >Autor</option>
                    <option value="TI" >Titulo</option>
                </select>
                <input id="ebscohostkeywords" name="ebscohostkeywords" type="hidden" value="" />
                <input id="ebscohostsearchtext" name="ebscohostsearchtext" type="text" size="50" placeholder="Busca las publicaciones de la Universidad..." />
                <button></button>
            </form>
        </div>
        <div id="tabs-6" class="tabs-x" style="display:none;">
            <form id="sbPeriodici" action="" onsubmit="return ebscoHostSearchEbooks(this);" method="post">
                <input id="ebscohostwindow" name="ebscohostwindow" type="hidden" value="1" />
                <input id="ebscohosturl" name="ebscohosturl" type="hidden" value="http://search.ebscohost.com/login.aspx?direct=true&site=eds-live&scope=site&type=0&custid=s5802306&groupid=main&profid=eds_v2&mode=bool&lang=es&authtype=ip,guest" />
                <input id="ebscohostsearchsrc" name="ebscohostsearchsrc" type="hidden" value="db" />
                <input id="ebscohostsearchmode" name="ebscohostsearchmode" type="hidden" value="+" />
                <input id="ebscohostkeywords" name="ebscohostkeywords" type="hidden" value="" />
                <select name="ebook" id="ebook" class="selector">
                    <option value="" id="clave">Palabras Clave</option>
                    <option value="AU" id="autor1">Autor</option>
                    <option value="TI" id="titulo2">Titulo</option>
                </select>
                <input id="ebscohostsearchtext" name="ebscohostsearchtext" type="text" size="50" />
                <button></button>
            </form>
        </div>
        <div id="tabs-7" class="tabs-x" style="display:none;">
            <form id="sbCatalog" style="overflow:auto;">
                <select name="Campos" id="bookselc" class="selector">
                    <option value="" >Palabras Clave</option>
                    <option value="AU" >Autor</option>
                    <option value="TI" >Titulo</option>
                </select>
                <input id="ebookssearch" name="ebscohostsearchtext" type="text" size="50" placeholder="Busca en el catalogo..." />
                <button onclick="searchebooks()"></button><br/>

            </form>
        </div>
        <script>
            function searchebooks() {
                var text1 = document.getElementById("ebookssearch").value;
                var res = escape(text1);
                if (res != '') {
                    var rev1 = document.getElementById("bookselc").value;
                    var url = '';
                    if (rev1 == "") {
                        url = "http://basesbiblioteca.uexternado.edu.co:2048/login?url=https://ebooks.uexternado.edu.co/searchresults?option=catalog&" + "keyword=" + res + "&type=quick";
                    }
                    if (rev1 == "TI") {
                        url = "http://basesbiblioteca.uexternado.edu.co:2048/login?url=https://ebooks.uexternado.edu.co/searchresults?keyword=&match_case=true&option=catalog&" + "title=" + res + "&author=&isbn=&cat=&year=&price_from=&price_to=&duration=&type=advanced";
                    }
                    if (rev1 == "AU") {
                        url = "http://basesbiblioteca.uexternado.edu.co:2048/login?url=https://ebooks.uexternado.edu.co/searchresults?keyword=&match_case=true&option=catalog&title=&" + "&author=" + res + "&isbn=&cat=&year=&price_from=&price_to=&duration=&type=advanced";
                    }
                    window.open(url);
                }
            }

        </script>
    </div>
</body>

</html>
